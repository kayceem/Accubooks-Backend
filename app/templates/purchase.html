<!DOCTYPE html>
<html>
    <head>
        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">

    </head>
    <body>
        <div class="container">
            <!-- Add purchase form -->
            <h2>Add Purchase</h2>
            <form method="POST">
                <div class="form-group">
                    <label for="productSelect">Product:</label>
                    <select
                        class="form-control"
                        id="productSelect"
                        name="product_id"
                    >
                        <option selected disabled>Choose a product...</option>
                        {% for product in products %}
                        <option value="{{ product.id }}">{{ product.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <label for="dateInput">Date:</label>
                    <input
                        type="date"
                        class="form-control"
                        id="dateInput"
                        name="date"
                    />
                </div>
                <div class="form-group">
                    <label for="quantityInput">Quantity:</label>
                    <input
                        type="number"
                        class="form-control"
                        id="quantityInput"
                        name="quantity"
                    />
                </div>
                <div class="form-group">
                    <label for="priceInput">Price:</label>
                    <input
                        type="number"
                        class="form-control"
                        id="priceInput"
                        name="price"
                    />
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>

            <h2>Purchases</h2>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Purchase ID</th>
                        <th>Product</th>
                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody>
                    {% for purchase in purchases %}
                    <tr>
                        <td>{{ purchase.id }}</td>
                        <td>{{ purchase.product.name }}</td>
                        <td>{{ purchase.quantity }}</td>
                        <td>{{ purchase.price }}</td>
                        <td>{{ purchase.date }}</td>
                        <td>
                            <!-- Update button -->
                            <form method="POST" style="display: inline-block;">
                                <input type="hidden" name="action" value="update">
                                <input type="hidden" name="purchase_id" value="{{ purchase.id }}">
                                <button type="submit" class="btn btn-light">
                                    <i class="bi bi-pencil-square"></i>
                                </button>
                            </form>
                            <!-- Delete button -->
                            <form method="POST" style="display: inline-block;">
                                <input type="hidden" name="action" value="delete">
                                <input type="hidden" name="purchase_id" value="{{ purchase.id }}">
                                <button type="submit" class="btn btn-light">
                                    <i class="bi bi-trash"></i>
                                </button>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </body>
</html>
